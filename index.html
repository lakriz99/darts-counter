<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#111827" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
  <title>Darts Counter</title>
</head>
<body>

<header class="topbar">
  <button id="btnBack" class="icon-btn" aria-label="Retour">â†</button>
  <div class="topbar-title" id="topTitle">Darts Counter</div>
  <button id="btnHome" class="icon-btn" aria-label="Accueil">ğŸ </button>
</header>

<main class="container">

  <!-- Ã‰cran 1 : Choix du mode -->
  <section id="viewMode" class="card view">
    <h1 class="h1">Choix de la partie</h1>
    <p class="muted">SÃ©lectionne un mode.</p>

    <div class="big-actions">
      <button class="btn btn-primary big" data-mode="301">301</button>
      <button class="btn btn-primary big" data-mode="501">501</button>
      <button class="btn btn-secondary big" data-mode="free">Libre</button>
    </div>
  </section>

  <!-- Ã‰cran 2 : Double-out (uniquement 301/501) -->
  <section id="viewDoubleOut" class="card view hidden">
    <h1 class="h1">Double-out ?</h1>
    <p class="muted">Finir Ã  0 avec une double (Bull = 50).</p>

    <div class="big-actions">
      <button class="btn btn-primary big" data-doubleout="true">Oui</button>
      <button class="btn btn-secondary big" data-doubleout="false">Non</button>
    </div>
  </section>

  <!-- Ã‰cran 3 : Joueurs -->
  <section id="viewPlayers" class="card view hidden">
    <h1 class="h1">Nombre de joueurs</h1>
    <p class="muted">De 1 Ã  8 joueurs.</p>

    <div class="row wrap">
      <select id="playersCount" class="select">
        <option value="1">1</option>
        <option value="2" selected>2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>

      <button id="btnStart" class="btn btn-primary">DÃ©marrer la partie</button>
    </div>
  </section>

  <!-- Ã‰cran 4 : Jeu -->
  <section id="viewGame" class="card view hidden">
    <div class="row space">
      <div class="pill" id="status">â€”</div>
      <div class="pill" id="modePill">â€”</div>
    </div>

    <div class="scoreboard" id="scoreboard"></div>

    <div class="live-row">
      <div class="pill" id="liveRemaining">Reste: â€”</div>
      <div class="pill" id="liveProjected">AprÃ¨s: â€”</div>
    </div>

    <div class="suggest">
      <div class="suggest-title" id="suggestTitle">Suggestion</div>
      <div class="suggest-value" id="suggestValue">â€”</div>
    </div>

    <div class="mobile-turn">
      <div class="mobile-darts">
        <div class="mobile-dart-slot" data-slot="0"><div class="k">FlÃ©chette 1</div><div class="v">â€”</div></div>
        <div class="mobile-dart-slot" data-slot="1"><div class="k">FlÃ©chette 2</div><div class="v">â€”</div></div>
        <div class="mobile-dart-slot" data-slot="2"><div class="k">FlÃ©chette 3</div><div class="v">â€”</div></div>
      </div>

      <div class="row wrap" style="margin-top:10px;">
        <button id="btnUndoDart" class="btn btn-secondary" disabled>Retirer derniÃ¨re</button>
        <button id="btnMiss" class="btn btn-secondary">Miss (0)</button>
        <button id="btnValidateTurn" class="btn btn-primary" disabled>Valider tour</button>
      </div>
    </div>

    <!-- saisie : chiffres puis multipliers -->
    <div id="numbers" class="mobile-grid"></div>

    <div id="multis" class="mobile-multis hidden">
      <button class="btn btn-secondary multi" data-m="S">Simple</button>
      <button class="btn btn-secondary multi" data-m="D">Double</button>
      <button class="btn btn-secondary multi" data-m="T">Triple</button>
      <button id="btnMultisBack" class="btn btn-secondary">Retour chiffres</button>
    </div>

    <div class="mobile-bottom">
      <div class="mobile-total">
        <div class="label">Total tour</div>
        <div id="turnTotal" class="value">0</div>
      </div>
    </div>
  </section>

</main>

<script src="app.js"></script>
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("./sw.js");
  }
</script>
</body>
</html>
